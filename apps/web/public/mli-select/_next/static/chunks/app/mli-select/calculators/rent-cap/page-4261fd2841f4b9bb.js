(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{3231:function(e,t,n){Promise.resolve().then(n.bind(n,52558))},52558:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(94765),i=n(98990),s=n(25235),a=n(35254);let l={"Vancouver, BC":65e3,"Surrey, BC":62e3,"Burnaby, BC":63e3,"Victoria, BC":6e4,"Calgary, AB":64e3,"Edmonton, AB":6e4,"Toronto, ON":72e3,"Mississauga, ON":69e3,"Brampton, ON":68e3,"Ottawa, ON":68e3,"Montreal, QC":53e3,"Quebec City, QC":5e4,"Winnipeg, MB":52e3,"Saskatoon, SK":51e3,"Halifax, NS":52e3},c=Object.keys(l).sort();var u=n(69732);function o(){var e;let[t,n]=(0,i.useState)("Surrey, BC"),[o,d]=(0,i.useState)(100),[f,h]=(0,i.useState)(25),[x,p]=(0,i.useState)("new"),m=null!==(e=l[t])&&void 0!==e?e:6e4,j=(0,u.sz)(m),b="new"===x?[{pts:50,pct:10},{pts:70,pct:15},{pts:100,pct:25}]:[{pts:50,pct:40},{pts:70,pct:60},{pts:100,pct:80}],g=b.map(e=>({...e,units:Math.ceil(e.pct/100*o)})),v=(0,i.useMemo)(()=>{let e=o?f/o*100:0,t=0;for(let n=b.length-1;n>=0;n--)if(e>=b[n].pct){t=b[n].pts;break}return t},[o,f,b]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{title:"Affordability Rent Cap",subtitle:"Find the affordable rent threshold and units required by tier."}),(0,r.jsx)("section",{className:"section-pad",children:(0,r.jsxs)("div",{className:"container-tight grid gap-6 lg:grid-cols-3",children:[(0,r.jsx)(a.Z,{title:"Inputs",children:(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsx)("label",{children:"City"}),(0,r.jsx)("select",{value:t,onChange:e=>n(e.target.value),children:c.map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)("label",{children:"Project Type"}),(0,r.jsxs)("select",{value:x,onChange:e=>p(e.target.value),children:[(0,r.jsx)("option",{value:"new",children:"New Construction"}),(0,r.jsx)("option",{value:"existing",children:"Existing Property"})]}),(0,r.jsx)("label",{children:"Total Units"}),(0,r.jsx)("input",{type:"number",value:o,onChange:e=>d(+e.target.value)}),(0,r.jsx)("label",{children:"Affordable Units in Plan"}),(0,r.jsx)("input",{type:"number",value:f,onChange:e=>h(+e.target.value)})]})}),(0,r.jsxs)("div",{className:"lg:col-span-2 grid gap-6",children:[(0,r.jsx)(a.Z,{title:"Rent Threshold",children:(0,r.jsxs)("div",{className:"text-sm text-slate-700",children:["Median renter income in ",(0,r.jsx)("b",{children:t})," ≈ ",(0,r.jsxs)("b",{children:["$",m.toLocaleString()]}),"/yr → Affordable rent cap ≈"," ",(0,r.jsxs)("b",{children:["$",Math.round(j).toLocaleString()]})," / month (30% of median income)."]})}),(0,r.jsx)(a.Z,{title:"Units Required by Tier",children:(0,r.jsx)("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:g.map(e=>(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"font-semibold",children:["Tier ",e.pts]}),(0,r.jsxs)("div",{className:"mt-1",children:[e.pct,"% of ",o," = ",(0,r.jsx)("b",{children:e.units})," units"]})]})},e.pts))})}),(0,r.jsx)(a.Z,{title:"Your Plan",children:(0,r.jsxs)("div",{className:"text-sm text-slate-700",children:["You’re planning ",(0,r.jsx)("b",{children:f})," affordable units out of ",o," (",(f/o*100||0).toFixed(1),"%).",(0,r.jsx)("br",{}),"This currently qualifies for ",(0,r.jsx)("b",{children:v||"no"})," points in the Affordability outcome."]})})]})]})})]})}},35254:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(94765);function i(e){let{title:t,children:n}=e;return(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",children:[t&&(0,r.jsx)("h3",{className:"text-lg font-semibold",children:t}),n]})})}},25235:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(94765),i=n(5282);function s(e){let{title:t,subtitle:n,ctas:s=[]}=e;return(0,r.jsx)("section",{className:"bg-gradient-to-b from-white to-slate-50",children:(0,r.jsx)("div",{className:"container-tight section-pad",children:(0,r.jsxs)("div",{className:"max-w-3xl",children:[(0,r.jsx)("span",{className:"badge badge-tier",children:"CMHC • MLI Select"}),(0,r.jsx)("h1",{className:"mt-3 text-3xl sm:text-5xl font-bold tracking-tight text-brand-blue",children:t}),n&&(0,r.jsx)("p",{className:"mt-3 text-slate-700",children:n}),(0,r.jsx)("div",{className:"mt-6 flex flex-wrap gap-3",children:s.map(e=>(0,r.jsx)(i.default,{href:e.href,className:"btn ".concat(e.primary?"btn-primary":"btn-outline"),children:e.label},e.href))})]})})})}},69732:function(e,t,n){"use strict";function r(e,t,n){let r=e/12/100,i=12*t;return 0===r?n/i:n*r/(1-Math.pow(1+r,-i))}function i(e,t,n){let i=e/12/100,s=12*t,a=r(e,t,n),l=n,c=[];for(let e=1;e<=s;e++){let t=i*l,n=a-t;l=Math.max(0,l-n),c.push({period:e,interest:t,principal:n,balance:l})}return{payment:a,rows:c}}function s(e){return e>=100?100:e>=70?70:e>=50?50:0}function a(e,t,n){let r=0;e?t>=25?r=100:t>=15?r=70:t>=10&&(r=50):t>=80?r=100:t>=60?r=70:t>=40&&(r=50);let i=n>=20&&r>0?30:0;return r+i}function l(e){return e>=40?50:e>=25?35:e>=15?20:0}function c(e){let{visitableAll:t,commonsBarrierFree:n,pctAccessible:r,pctUniversal:i,rhfScore:s}=e;return t&&n?r>=15&&i>=85||100===i||100===r||s>=80?30:r>=15||i>=15||s>=60&&s<80?20:0:0}function u(e,t,n){return e+t+n}function o(e){return e>=100?50:e>=70?45:e>=50?40:25}function d(e,t){return e?.95:t>=70?.95:t>=50?.85:0}function f(e){return e>=100?.3:e>=70?.2:e>=50?.1:0}function h(e,t,n){return n*d(e,t)}function x(e){let{noi:t,rateAnnual:n,years:i,minDcr:s}=e;return t/s/12/r(n,i,1)}function p(e){let{monthlyDebtService:t,otherMonthlyOpex:n,units:r,targetMargin:i=0}=e;return r<=0?0:(t+n)*(1+i)/r}function m(e){return .3*e/12}n.d(t,{Df:function(){return i},FB:function(){return o},FY:function(){return u},J_:function(){return c},Qq:function(){return f},Si:function(){return a},bK:function(){return d},cO:function(){return h},kA:function(){return x},kJ:function(){return s},qR:function(){return l},sz:function(){return m},uz:function(){return p},vC:function(){return r}})},5282:function(e,t,n){"use strict";n.d(t,{default:function(){return i.a}});var r=n(35172),i=n.n(r)}},function(e){e.O(0,[172,878,618,744],function(){return e(e.s=3231)}),_N_E=e.O()}]);